<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆØ§Ø¨Ø© Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© | Ø³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù†</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --oman-green: #006b3d;
            --royal-gold: #d4af37;
            --dark-gold: #9d7d3d;
            --soft-white: #fdfaf1;
            --deep-emerald: #042a1a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: var(--deep-emerald) url('https://www.transparenttextures.com/patterns/arabesque.png');
            font-family: 'Tajawal', sans-serif;
            color: #333; min-height: 100vh; overflow-x: hidden;
        }

        .royal-header {
            background: linear-gradient(135deg, #1a1a1a 0%, #333 50%, #1a1a1a 100%);
            border-bottom: 5px solid var(--royal-gold);
            padding: 25px 0; text-align: center; position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .header-container { max-width: 1100px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; }

        .logo-wrap {
            width: 100px; height: 100px; background: #fff; border: 4px solid var(--royal-gold);
            border-radius: 50%; padding: 5px; box-shadow: 0 0 20px var(--royal-gold);
            display: flex; align-items: center; justify-content: center; z-index: 10;
        }
        .logo-wrap img { width: 100%; height: 100%; object-fit: contain; border-radius: 50%; }

        .gov-text h1 { font-family: 'Amiri', serif; color: var(--royal-gold); font-size: 1.6rem; }
        .gov-text h2 { color: #fff; font-size: 0.8rem; letter-spacing: 1px; }

        .content-box {
            max-width: 900px; margin: 30px auto;
            background: var(--soft-white); border-radius: 25px;
            padding: 30px; min-height: 70vh;
            box-shadow: 0 40px 100px rgba(0,0,0,0.8);
            border: 2px solid var(--royal-gold);
        }

        .premium-card {
            background: #fff; border-radius: 15px; padding: 20px;
            margin-bottom: 15px; display: flex; align-items: center;
            justify-content: space-between; cursor: pointer;
            transition: 0.3s; border-right: 8px solid var(--dark-gold);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .premium-card:hover { transform: translateX(-10px); background: #fffdf5; }

        .progress-wrapper { background: #eee; border-radius: 50px; height: 12px; margin: 15px 0; overflow: hidden; border: 1px solid var(--dark-gold); }
        .progress-bar { height: 100%; background: linear-gradient(90deg, var(--oman-green), var(--royal-gold)); width: 0%; transition: 0.5s; }

        .btn-gold {
            background: linear-gradient(to bottom, var(--royal-gold), var(--dark-gold));
            color: #fff; border: none; padding: 10px 20px; border-radius: 50px;
            font-weight: bold; cursor: pointer; margin-bottom: 20px;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…ØµØ­Ù Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¢ÙŠØ© Ø¢ÙŠØ© */
        .mushaf-view {
            background: white; padding: 30px; border-radius: 20px;
            border: 2px double var(--royal-gold); text-align: center;
            line-height: 2.5; margin-top: 20px;
        }
        .ayah { font-family: 'Amiri', serif; font-size: 2rem; padding: 0 5px; transition: 0.4s; border-radius: 5px; }
        .active-ayah { background: rgba(212, 175, 55, 0.2); color: var(--oman-green); font-weight: bold; }
        .ayah-num { color: var(--dark-gold); font-size: 1rem; margin: 0 5px; border: 1px solid var(--royal-gold); border-radius: 50%; padding: 2px 8px; }

        .view { display: none; }
        .view.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        footer { text-align: center; color: var(--royal-gold); padding: 20px; font-size: 0.8rem; }
    </style>
</head>
<body>

<header class="royal-header">
    <div class="header-container">
        <div class="gov-text"><h1>Ø³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù†</h1><h2>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…</h2></div>
        <div class="logo-wrap"><img src="https://raw.githubusercontent.com/faissaltunisia/student-grades/main/Screenshot%202025-12-16%20235912.png"></div>
        <div class="gov-text" style="text-align: left;"><h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬</h1><h2>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø±Ù‚Ù…ÙŠ</h2></div>
    </div>
</header>

<div class="content-box">
    <div id="v-main" class="view active">
        <h2 style="text-align:center; font-family:'Amiri'; font-size:2rem; color:var(--dark-gold); margin-bottom:25px;">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</h2>
        <div id="grades-grid"></div>
    </div>

    <div id="v-sems" class="view">
        <button class="btn-gold" onclick="switchView('v-sems', 'v-main')">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        <div id="sems-grid"></div>
    </div>

    <div id="v-list" class="view">
        <button class="btn-gold" onclick="switchView('v-list', 'v-sems')">ğŸ”™ Ø¹ÙˆØ¯Ø© Ù„Ù„ÙØµÙˆÙ„</button>
        <div style="display:flex; justify-content:space-between; font-weight:bold; color:var(--dark-gold);">
            <span>Ù…Ø¹Ø¯Ù„ Ø¥Ù†Ø¬Ø§Ø²Ùƒ</span><span id="pct-text">0%</span>
        </div>
        <div class="progress-wrapper"><div class="progress-bar" id="p-bar"></div></div>
        <div id="surahs-grid"></div>
    </div>

    <div id="v-read" class="view">
        <button class="btn-gold" onclick="stopAudio()">âœ… Ø¥Ù†Ù‡Ø§Ø¡ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø©</button>
        <div class="mushaf-view" id="quran-content"></div>
    </div>
</div>

<audio id="player-engine"></audio>
<footer>Ø­Ù‚ÙˆÙ‚ Ø§Ù„ØªØµÙ…ÙŠÙ… Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ &copy; 2025 | Ø¥Ø´Ø±Ø§Ù ÙÙŠØµÙ„ Ø§Ù„Ø¹Ø±ÙŠØ¨ÙŠ</footer>

<script>
    const db = {
        "Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³": {
            "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"511", n:"Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª", s:"077", a:["ÙˆÙØ§Ù„Ù’Ù…ÙØ±Ù’Ø³ÙÙ„ÙØ§ØªÙ Ø¹ÙØ±Ù’ÙÙ‹Ø§","ÙÙØ§Ù„Ù’Ø¹ÙØ§ØµÙÙÙØ§ØªÙ Ø¹ÙØµÙ’ÙÙ‹Ø§","ÙˆÙØ§Ù„Ù†Ù‘ÙØ§Ø´ÙØ±ÙØ§ØªÙ Ù†ÙØ´Ù’Ø±Ù‹Ø§"]}],
            "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"521", n:"Ø§Ù„Ù‚ÙŠØ§Ù…Ø©", s:"075", a:["Ù„ÙØ§ Ø£ÙÙ‚Ù’Ø³ÙÙ…Ù Ø¨ÙÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ù’Ù‚ÙÙŠÙØ§Ù…ÙØ©Ù","ÙˆÙÙ„ÙØ§ Ø£ÙÙ‚Ù’Ø³ÙÙ…Ù Ø¨ÙØ§Ù„Ù†Ù‘ÙÙÙ’Ø³Ù Ø§Ù„Ù„Ù‘ÙÙˆÙ‘ÙØ§Ù…ÙØ©Ù"]}]
        },
        "Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³": {
            "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"611", n:"Ø§Ù„Ù…Ø¯Ø«Ø±", s:"074", a:["ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù’Ù…ÙØ¯Ù‘ÙØ«Ù‘ÙØ±Ù","Ù‚ÙÙ…Ù’ ÙÙØ£ÙÙ†Ø°ÙØ±Ù’"]}],
            "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"621", n:"Ø§Ù„Ø¬Ù†", s:"072", a:["Ù‚ÙÙ„Ù’ Ø£ÙÙˆØ­ÙÙŠÙ Ø¥ÙÙ„ÙÙŠÙ‘Ù Ø£ÙÙ†Ù‘ÙÙ‡Ù Ø§Ø³Ù’ØªÙÙ…ÙØ¹Ù Ù†ÙÙÙØ±ÙŒ Ù…Ù‘ÙÙ†Ù Ø§Ù„Ù’Ø¬ÙÙ†Ù‘Ù"]}]
        },
        "Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¨Ø¹": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"711", n:"Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬", s:"070", a:["Ø³Ø£ÙÙ„Ù Ø³ÙØ§Ø¦ÙÙ„ÙŒ Ø¨ÙØ¹ÙØ°ÙØ§Ø¨Ù ÙˆÙØ§Ù‚ÙØ¹Ù"]}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"721", n:"Ø§Ù„Ù…Ù„Ùƒ", s:"067", a:["ØªÙØ¨ÙØ§Ø±ÙÙƒÙ Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø¨ÙÙŠÙØ¯ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ"]}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù†": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"811", n:"Ø§Ù„ØªØºØ§Ø¨Ù†", s:"064", a:["ÙŠÙØ³ÙØ¨Ù‘ÙØ­Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ"]}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"821", n:"Ø§Ù„ØªØ­Ø±ÙŠÙ…", s:"066", a:["ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù†Ù‘ÙØ¨ÙÙŠÙ‘Ù Ù„ÙÙ…Ù ØªÙØ­ÙØ±Ù‘ÙÙ…Ù"]}] },
        "Ø§Ù„ØµÙ Ø§Ù„ØªØ§Ø³Ø¹": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"911", n:"Ø§Ù„Ø¬Ù…Ø¹Ø©", s:"062", a:["ÙŠÙØ³ÙØ¨Ù‘ÙØ­Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ"]}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"921", n:"Ø§Ù„ØµÙ", s:"061", a:["Ø³ÙØ¨Ù‘ÙØ­Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ"]}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø¹Ø§Ø´Ø±": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"1011", n:"Ø§Ù„Ø­Ø´Ø±", s:"059", a:["Ø³ÙØ¨Ù‘ÙØ­Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ"]}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"1021", n:"Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©", s:"058", a:["Ù‚ÙØ¯Ù’ Ø³ÙÙ…ÙØ¹Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù‚ÙÙˆÙ’Ù„Ù Ø§Ù„Ù‘ÙØªÙÙŠ"]}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø­Ø§Ø¯ÙŠ Ø¹Ø´Ø±": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"1111", n:"Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†", s:"003", a:["ÙÙØ¨ÙÙ…ÙØ§ Ø±ÙØ­Ù’Ù…ÙØ©Ù Ù…Ù‘ÙÙ†Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù"]}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"1121", n:"Ø§Ù„Ù†ÙˆØ±", s:"024", a:["ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§"]}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¹Ø´Ø±": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"1211", n:"Ù…Ø­Ù…Ø¯", s:"047", a:["Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙŠÙØ¯Ù’Ø®ÙÙ„Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù"]}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"1221", n:"Ø§Ù„ÙƒÙ‡Ù", s:"018", a:["Ø£ÙÙ…Ù’ Ø­ÙØ³ÙØ¨Ù’ØªÙ Ø£ÙÙ†Ù‘Ù Ø£ÙØµÙ’Ø­ÙØ§Ø¨Ù Ø§Ù„Ù’ÙƒÙÙ‡Ù’ÙÙ"]}] }
    };

    let state = { g: "", s: "" };
    let prog = JSON.parse(localStorage.getItem('murooj_prog')) || {};
    const audio = document.getElementById('player-engine');

    function init() {
        const grid = document.getElementById('grades-grid');
        Object.keys(db).forEach(g => {
            grid.innerHTML += `<div class="premium-card" onclick="selectGrade('${g}')"><div class="card-info"><h3>${g}</h3></div><span>â—€</span></div>`;
        });
    }

    function switchView(from, to) {
        document.getElementById(from).classList.remove('active');
        document.getElementById(to).classList.add('active');
    }

    function selectGrade(g) {
        state.g = g;
        const grid = document.getElementById('sems-grid');
        grid.innerHTML = `<h2 style="text-align:center; color:var(--oman-green); margin-bottom:20px;">${g}</h2>`;
        Object.keys(db[g]).forEach(s => {
            grid.innerHTML += `<div class="premium-card" onclick="selectSem('${s}')"><div class="card-info"><h3>${s}</h3></div><span>ğŸ“</span></div>`;
        });
        switchView('v-main', 'v-sems');
    }

    function selectSem(s) {
        state.s = s;
        renderSurahs();
        switchView('v-sems', 'v-list');
    }

    function renderSurahs() {
        const grid = document.getElementById('surahs-grid');
        grid.innerHTML = "";
        const list = db[state.g][state.s];
        list.forEach(item => {
            grid.innerHTML += `<div class="premium-card" onclick="startReading('${item.n}','${item.s}',${JSON.stringify(item.a)},'${item.id}')">
                <div class="card-info"><h3>Ø³ÙˆØ±Ø© ${item.n}</h3><p>${prog[item.id]?'âœ… Ù…ÙƒØªÙ…Ù„':'ğŸ“– Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªÙ„Ø§ÙˆØ©'}</p></div><span>â–¶</span></div>`;
        });
        updateProgress(list);
    }

    function startReading(name, sId, ayahs, id) {
        const container = document.getElementById('quran-content');
        container.innerHTML = `<h2 style="margin-bottom:20px; color:var(--oman-green)">Ø³ÙˆØ±Ø© ${name}</h2>` + 
            ayahs.map((a, i) => `<span class="ayah" id="ayah-${i}">${a} <span class="ayah-num">${i+1}</span></span>`).join(' ');
        
        switchView('v-list', 'v-read');
        let idx = 0;
        const playAyah = (i) => {
            if(i >= ayahs.length) { prog[id]=true; localStorage.setItem('murooj_prog', JSON.stringify(prog)); return; }
            document.querySelectorAll('.ayah').forEach(el => el.classList.remove('active-ayah'));
            document.getElementById(`ayah-${i}`).classList.add('active-ayah');
            audio.src = `https://www.everyayah.com/data/Hudhaify_64kbps/${sId}${(i+1).toString().padStart(3,'0')}.mp3`;
            audio.play();
            audio.onended = () => { idx++; playAyah(idx); };
        };
        playAyah(0);
    }

    function stopAudio() { audio.pause(); switchView('v-read', 'v-list'); renderSurahs(); }
    
    function updateProgress(list) {
        const done = list.filter(i => prog[i.id]).length;
        const pct = Math.round((done/list.length)*100);
        document.getElementById('p-bar').style.width = pct + "%";
        document.getElementById('pct-text').innerText = pct + "%";
    }

    init();
</script>
</body>
</html>
