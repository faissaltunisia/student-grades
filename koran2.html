<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ù…Ø±ÙˆØ¬ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© | Ø³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù†</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --oman-green: #006b3d;
            --royal-gold: #d4af37;
            --dark-gold: #9d7d3d;
            --soft-white: #fdfaf1;
            --deep-emerald: #042a1a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: var(--deep-emerald) url('https://www.transparenttextures.com/patterns/arabesque.png');
            font-family: 'Tajawal', sans-serif;
            color: #333; min-height: 100vh; overflow-x: hidden;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ --- */
        .royal-header {
            background: linear-gradient(135deg, #1a1a1a 0%, #333 50%, #1a1a1a 100%);
            border-bottom: 5px solid var(--royal-gold);
            padding: 25px 0;
            text-align: center;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        .royal-header::after {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: linear-gradient(45deg, transparent, rgba(212,175,55,0.1), transparent);
            transform: rotate(45deg); animation: shine 6s infinite;
        }

        @keyframes shine { 0% { transform: translateX(-100%) rotate(45deg); } 100% { transform: translateX(100%) rotate(45deg); } }

        .header-container { max-width: 1100px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; position: relative; z-index: 2; }
        .gov-text h1 { font-family: 'Amiri', serif; color: var(--royal-gold); font-size: 1.8rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .gov-text h2 { color: #fff; font-size: 0.9rem; letter-spacing: 2px; }

        .logo-wrap {
            position: relative; width: 100px; height: 100px;
            background: #fff; border: 4px solid var(--royal-gold);
            border-radius: 50%; padding: 5px; box-shadow: 0 0 20px var(--royal-gold);
        }

        /* --- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ --- */
        .content-box {
            max-width: 850px; margin: 40px auto;
            background: var(--soft-white); border-radius: 25px;
            padding: 40px; min-height: 70vh;
            box-shadow: 0 40px 100px rgba(0,0,0,0.8);
            border: 2px solid var(--royal-gold);
        }

        /* --- Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØµÙÙˆÙ Ø§Ù„Ù…Ø·ÙˆØ±Ø© --- */
        .premium-card {
            background: #fff; border-radius: 18px; padding: 25px;
            margin-bottom: 20px; display: flex; align-items: center;
            justify-content: space-between; cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid #ddd; border-right: 8px solid var(--dark-gold);
            position: relative; overflow: hidden;
        }

        .premium-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 35px rgba(157, 125, 61, 0.3);
            border-color: var(--royal-gold);
        }

        .premium-card::before {
            content: "ğŸ“–"; position: absolute; left: -10px; opacity: 0.05; font-size: 5rem; top: -10px;
        }

        .card-info h3 { color: var(--oman-green); font-family: 'Amiri', serif; font-size: 1.6rem; }
        .card-info p { color: #666; font-size: 0.85rem; }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… --- */
        .progress-wrapper { background: #eee; border-radius: 50px; height: 14px; margin: 20px 0; overflow: hidden; border: 1px solid var(--dark-gold); }
        .progress-bar { height: 100%; background: linear-gradient(90deg, var(--oman-green), var(--royal-gold)); width: 0%; transition: 1.5s ease; }

        /* --- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ --- */
        .btn-gold {
            background: linear-gradient(to bottom, var(--royal-gold), var(--dark-gold));
            color: #fff; border: none; padding: 12px 25px; border-radius: 50px;
            font-weight: bold; cursor: pointer; margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); transition: 0.3s;
        }
        .btn-gold:hover { transform: scale(1.05); filter: brightness(1.1); }

        /* --- Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ --- */
        .player-frame {
            width: 100%; aspect-ratio: 16/9; background: #000;
            border-radius: 20px; border: 6px solid var(--royal-gold);
            box-shadow: 0 20px 50px rgba(0,0,0,0.4); overflow: hidden;
        }

        .view { display: none; animation: slideIn 0.5s ease-out; }
        .view.active { display: block; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        #toast {
            position: fixed; bottom: 30px; right: 30px; background: var(--oman-green);
            color: white; padding: 15px 30px; border-radius: 10px; font-weight: bold;
            display: none; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 1000;
        }
    </style>
</head>
<body>

<div id="toast">âœ¨ ØªÙ… Ø­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</div>

<header class="royal-header">
    <div class="header-container">
        <div class="gov-text">
            <h1>Ø³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù†</h1>
            <h2>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…</h2>
        </div>
        <div class="logo-wrap">
            <img src="https://raw.githubusercontent.com/faissaltunisia/student-grades/main/Screenshot%202025-12-16%20235912.png" width="100%" alt="Logo">
        </div>
        <div class="gov-text" style="text-align: left;">
            <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬</h1>
            <h2>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø±Ù‚Ù…ÙŠ</h2>
        </div>
    </div>
</header>

<div class="content-box">
    
    <div id="v-main" class="view active">
        <h2 style="text-align:center; font-family:'Amiri'; font-size:2.2rem; color:var(--dark-gold); margin-bottom:30px;">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</h2>
        <div id="grades-grid"></div>
    </div>

    <div id="v-sems" class="view">
        <button class="btn-gold" onclick="switchView('v-sems', 'v-main')">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        <h2 id="grade-label" style="color:var(--oman-green); margin-bottom:20px;"></h2>
        <div id="sems-grid"></div>
    </div>

    <div id="v-list" class="view">
        <button class="btn-gold" onclick="switchView('v-list', 'v-sems')">ğŸ”™ Ø¹ÙˆØ¯Ø© Ù„Ù„ÙØµÙˆÙ„</button>
        <div style="display:flex; justify-content:space-between; font-weight:bold; color:var(--dark-gold);">
            <span>Ù…Ø¹Ø¯Ù„ Ø¥Ù†Ø¬Ø§Ø²Ùƒ</span>
            <span id="pct-text">0%</span>
        </div>
        <div class="progress-wrapper"><div class="progress-bar" id="p-bar"></div></div>
        <div id="surahs-grid"></div>
    </div>

    <div id="v-play" class="view">
        <button class="btn-gold" onclick="closePlayer()">âœ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø³ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø©</button>
        <h2 id="p-title" style="text-align:center; font-family:'Amiri'; font-size:2rem; margin-bottom:20px; color:var(--oman-green);"></h2>
        <div class="player-frame" id="player-area"></div>
    </div>

</div>

<footer>
    <p style="text-align:center; color:var(--royal-gold); padding:40px; font-size:0.9rem;">Ø­Ù‚ÙˆÙ‚ Ø§Ù„ØªØµÙ…ÙŠÙ… Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ &copy; 2025</p>
</footer>

<script>
    const db = {
        "Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"51", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª", v:"https://ict.moe.gov.om/tlawti/video/5/cls5_Islamic_Morsalat4.mp4"}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"52", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø¨Ø£", v:"https://ict.moe.gov.om/tlawti/video/5/cls5_Islamic_Naba.mp4"}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"61", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ø³Ø¬Ø¯Ø©", v:"https://ict.moe.gov.om/tlawti/video/6/cls6_Islamic_Sajdah.mp4"}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"62", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ", v:"https://ict.moe.gov.om/tlawti/video/6/cls6_Islamic_Mulk.mp4"}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¨Ø¹": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"71", t:"Ø³ÙˆØ±Ø© Ù‚", v:"https://ict.moe.gov.om/tlawti/video/7/cls7_Islamic_Qaf.mp4"}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"72", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ø±Ø­Ù…Ù†", v:"https://ict.moe.gov.om/tlawti/video/7/cls7_Islamic_Rahman.mp4"}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù†": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"81", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ø­Ø¬Ø±Ø§Øª", v:"https://ict.moe.gov.om/tlawti/video/8/cls8_Islamic_Hujurat.mp4"}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"82", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø¬Ù…", v:"https://ict.moe.gov.om/tlawti/video/8/cls8_Islamic_Najm.mp4"}] }
    };

    let state = { g: "", s: "" };
    let prog = JSON.parse(localStorage.getItem('oman_edu_final')) || {};

    function init() {
        const grid = document.getElementById('grades-grid');
        Object.keys(db).forEach(g => {
            grid.innerHTML += `
                <div class="premium-card" onclick="selectGrade('${g}')">
                    <div class="card-info"><h3>${g}</h3><p>Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯</p></div>
                    <span style="color:var(--royal-gold); font-size:1.5rem;">â—€</span>
                </div>`;
        });
    }

    function switchView(from, to) {
        document.getElementById(from).classList.remove('active');
        document.getElementById(to).classList.add('active');
    }

    function selectGrade(g) {
        state.g = g;
        document.getElementById('grade-label').innerText = g;
        const grid = document.getElementById('sems-grid');
        grid.innerHTML = "";
        Object.keys(db[g]).forEach(s => {
            grid.innerHTML += `
                <div class="premium-card" onclick="selectSem('${s}')">
                    <div class="card-info"><h3>${s}</h3><p>Ø§Ø¶ØºØ· Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…Ù‚Ø±Ø±Ø©</p></div>
                    <span style="color:var(--royal-gold); font-size:1.5rem;">ğŸ“</span>
                </div>`;
        });
        switchView('v-main', 'v-sems');
    }

    function selectSem(s) {
        state.s = s;
        renderSurahs();
        switchView('v-sems', 'v-list');
    }

    function renderSurahs() {
        const grid = document.getElementById('surahs-grid');
        grid.innerHTML = "";
        const list = db[state.g][state.s] || [];
        list.forEach(item => {
            const isDone = prog[item.id];
            grid.innerHTML += `
                <div class="premium-card" onclick="playVideo('${item.id}', '${item.t}', '${item.v}')">
                    <div class="card-info"><h3>${item.t}</h3><span style="color:${isDone?'var(--oman-green)':'#999'}; font-weight:bold;">${isDone?'âœ… ØªÙ… Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„':'ğŸ“– Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©'}</span></div>
                    <span style="font-size:1.5rem;">â–¶</span>
                </div>`;
        });
        updateProgress(list);
    }

    function playVideo(id, title, url) {
        document.getElementById('p-title').innerText = title;
        const area = document.getElementById('player-area');
        area.innerHTML = `<video id="active-vid" width="100%" height="100%" controls autoplay><source src="${url}" type="video/mp4"></video>`;
        
        const v = document.getElementById('active-vid');
        v.onended = () => {
            prog[id] = true;
            localStorage.setItem('oman_edu_final', JSON.stringify(prog));
            showToast();
            closePlayer();
        };
        switchView('v-list', 'v-play');
    }

    function closePlayer() {
        document.getElementById('player-area').innerHTML = "";
        switchView('v-play', 'v-list');
        renderSurahs();
    }

    function showToast() {
        const t = document.getElementById('toast');
        t.style.display = 'block';
        setTimeout(() => t.style.display='none', 3000);
    }

    function updateProgress(list) {
        const done = list.filter(i => prog[i.id]).length;
        const pct = list.length > 0 ? Math.round((done/list.length)*100) : 0;
        document.getElementById('p-bar').style.width = pct + "%";
        document.getElementById('pct-text').innerText = pct + "%";
    }

    init();
</script>

</body>
</html>
