<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ù…Ø±ÙˆØ¬ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© | Ø³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù†</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --oman-green: #006b3d;
            --royal-gold: #d4af37;
            --dark-gold: #9d7d3d;
            --soft-white: #fdfaf1;
            --deep-emerald: #042a1a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: var(--deep-emerald) url('https://www.transparenttextures.com/patterns/arabesque.png');
            font-family: 'Tajawal', sans-serif;
            color: #333; min-height: 100vh; overflow-x: hidden;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ù…Ø·ÙˆØ± --- */
        .royal-header {
            background: linear-gradient(135deg, #1a1a1a 0%, #333 50%, #1a1a1a 100%);
            border-bottom: 5px solid var(--royal-gold);
            padding: 30px 0;
            text-align: center;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .header-container { 
            max-width: 1100px; 
            margin: 0 auto; 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            padding: 0 20px;
        }

        /* --- Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø¯Ù„ --- */
        .logo-wrap {
            position: relative;
            width: 130px; 
            height: 130px;
            background: #fff;
            border: 5px solid var(--royal-gold);
            border-radius: 50%; /* Ø¬Ø¹Ù„ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø¯Ø§Ø¦Ø±ÙŠØ§Ù‹ */
            padding: 5px;
            box-shadow: 0 0 25px var(--royal-gold);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse-gold 2s infinite alternate; /* Ø­Ø±ÙƒØ© Ø§Ù„Ù†Ø¨Ø¶ */
            z-index: 10;
        }

        .logo-wrap img {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø´Ø¹Ø§Ø± */
            border-radius: 50%;
        }

        @keyframes pulse-gold {
            0% { box-shadow: 0 0 10px var(--royal-gold); transform: scale(1); }
            100% { box-shadow: 0 0 30px var(--dark-gold), 0 0 10px #fff; transform: scale(1.05); }
        }

        .gov-text h1 { font-family: 'Amiri', serif; color: var(--royal-gold); font-size: 1.8rem; }
        .gov-text h2 { color: #fff; font-size: 0.9rem; letter-spacing: 1px; }

        /* --- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ --- */
        .content-box {
            max-width: 850px; margin: 40px auto;
            background: var(--soft-white); border-radius: 25px;
            padding: 40px; min-height: 70vh;
            box-shadow: 0 40px 100px rgba(0,0,0,0.8);
            border: 2px solid var(--royal-gold);
        }

        /* --- Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ÙØ§Ø®Ø±Ø© --- */
        .premium-card {
            background: #fff; border-radius: 18px; padding: 25px;
            margin-bottom: 20px; display: flex; align-items: center;
            justify-content: space-between; cursor: pointer;
            transition: 0.4s ease;
            border: 1px solid #ddd; border-right: 8px solid var(--dark-gold);
        }

        .premium-card:hover {
            transform: translateX(-10px);
            box-shadow: 0 10px 30px rgba(157, 125, 61, 0.2);
            background: #fffdf5;
        }

        .card-info h3 { color: var(--oman-green); font-family: 'Amiri', serif; font-size: 1.6rem; }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… --- */
        .progress-wrapper { background: #eee; border-radius: 50px; height: 14px; margin: 20px 0; overflow: hidden; border: 1px solid var(--dark-gold); }
        .progress-bar { height: 100%; background: linear-gradient(90deg, var(--oman-green), var(--royal-gold)); width: 0%; transition: 1s ease; }

        .btn-gold {
            background: linear-gradient(to bottom, var(--royal-gold), var(--dark-gold));
            color: #fff; border: none; padding: 12px 25px; border-radius: 50px;
            font-weight: bold; cursor: pointer; margin-bottom: 25px;
        }

        .player-frame {
            width: 100%; aspect-ratio: 16/9; background: #000;
            border-radius: 20px; border: 6px solid var(--royal-gold); overflow: hidden;
        }

        .view { display: none; animation: fadeIn 0.5s ease; }
        .view.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        footer { text-align: center; color: var(--royal-gold); padding: 40px; font-size: 0.9rem; }
    </style>
</head>
<body>

<header class="royal-header">
    <div class="header-container">
        <div class="gov-text">
            <h1>Ø³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù†</h1>
            <h2>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…</h2>
        </div>
        
        <div class="logo-wrap">
            <img src="https://raw.githubusercontent.com/faissaltunisia/student-grades/main/Screenshot%202025-12-16%20235912.png" alt="Ø´Ø¹Ø§Ø± Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬">
        </div>

        <div class="gov-text" style="text-align: left;">
            <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬</h1>
            <h2>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø±Ù‚Ù…ÙŠ</h2>
        </div>
    </div>
</header>

<div class="content-box">
    
    <div id="v-main" class="view active">
        <h2 style="text-align:center; font-family:'Amiri'; font-size:2.2rem; color:var(--dark-gold); margin-bottom:30px;">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</h2>
        <div id="grades-grid"></div>
    </div>

    <div id="v-sems" class="view">
        <button class="btn-gold" onclick="switchView('v-sems', 'v-main')">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        <h2 id="grade-label" style="color:var(--oman-green); margin-bottom:20px; text-align:center;"></h2>
        <div id="sems-grid"></div>
    </div>

    <div id="v-list" class="view">
        <button class="btn-gold" onclick="switchView('v-list', 'v-sems')">ğŸ”™ Ø¹ÙˆØ¯Ø© Ù„Ù„ÙØµÙˆÙ„</button>
        <div style="display:flex; justify-content:space-between; font-weight:bold; color:var(--dark-gold);">
            <span>Ù…Ø¹Ø¯Ù„ Ø¥Ù†Ø¬Ø§Ø²Ùƒ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙØµÙ„</span>
            <span id="pct-text">0%</span>
        </div>
        <div class="progress-wrapper"><div class="progress-bar" id="p-bar"></div></div>
        <div id="surahs-grid"></div>
    </div>

    <div id="v-play" class="view">
        <button class="btn-gold" onclick="closePlayer()">âœ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø³ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø©</button>
        <h2 id="p-title" style="text-align:center; font-family:'Amiri'; font-size:2rem; margin-bottom:20px; color:var(--oman-green);"></h2>
        <div class="player-frame" id="player-area"></div>
    </div>

</div>

<footer>
    Ø­Ù‚ÙˆÙ‚ Ø§Ù„ØªØµÙ…ÙŠÙ… Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ &copy; 2025
</footer>

<script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙ
    const db = {
        "Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"51", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª", v:"https://ict.moe.gov.om/tlawti/video/5/cls5_Islamic_Morsalat4.mp4"}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"52", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø¨Ø£", v:"https://ict.moe.gov.om/tlawti/video/5/cls5_Islamic_Naba.mp4"}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"61", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ø³Ø¬Ø¯Ø©", v:"https://ict.moe.gov.om/tlawti/video/6/cls6_Islamic_Sajdah.mp4"}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"62", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ", v:"https://ict.moe.gov.om/tlawti/video/6/cls6_Islamic_Mulk.mp4"}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¨Ø¹": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"71", t:"Ø³ÙˆØ±Ø© Ù‚", v:"https://ict.moe.gov.om/tlawti/video/7/cls7_Islamic_Qaf.mp4"}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"72", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ø±Ø­Ù…Ù†", v:"https://ict.moe.gov.om/tlawti/video/7/cls7_Islamic_Rahman.mp4"}] },
        "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù†": { "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„": [{id:"81", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ø­Ø¬Ø±Ø§Øª", v:"https://ict.moe.gov.om/tlawti/video/8/cls8_Islamic_Hujurat.mp4"}], "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ": [{id:"82", t:"Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø¬Ù…", v:"https://ict.moe.gov.om/tlawti/video/8/cls8_Islamic_Najm.mp4"}] }
    };

    let state = { g: "", s: "" };
    let prog = JSON.parse(localStorage.getItem('oman_final_v5')) || {};

    function init() {
        const grid = document.getElementById('grades-grid');
        Object.keys(db).forEach(g => {
            grid.innerHTML += `<div class="premium-card" onclick="selectGrade('${g}')"><div class="card-info"><h3>${g}</h3></div><span>â—€</span></div>`;
        });
    }

    function switchView(from, to) {
        document.getElementById(from).classList.remove('active');
        document.getElementById(to).classList.add('active');
    }

    function selectGrade(g) {
        state.g = g;
        document.getElementById('grade-label').innerText = g;
        const grid = document.getElementById('sems-grid');
        grid.innerHTML = "";
        Object.keys(db[g]).forEach(s => {
            grid.innerHTML += `<div class="premium-card" onclick="selectSem('${s}')"><div class="card-info"><h3>${s}</h3></div><span>ğŸ“</span></div>`;
        });
        switchView('v-main', 'v-sems');
    }

    function selectSem(s) {
        state.s = s;
        renderSurahs();
        switchView('v-sems', 'v-list');
    }

    function renderSurahs() {
        const grid = document.getElementById('surahs-grid');
        grid.innerHTML = "";
        const list = db[state.g][state.s] || [];
        list.forEach(item => {
            const isDone = prog[item.id];
            grid.innerHTML += `
                <div class="premium-card" onclick="playVideo('${item.id}', '${item.t}', '${item.v}')">
                    <div class="card-info"><h3>${item.t}</h3><p>${isDone?'âœ… Ù…ÙƒØªÙ…Ù„':'ğŸ“– Ø§Ø¨Ø¯Ø£'}</p></div>
                    <span>â–¶</span>
                </div>`;
        });
        updateProgress(list);
    }

    function playVideo(id, title, url) {
        document.getElementById('p-title').innerText = title;
        const area = document.getElementById('player-area');
        area.innerHTML = `<video id="active-vid" width="100%" height="100%" controls autoplay><source src="${url}" type="video/mp4"></video>`;
        
        document.getElementById('active-vid').onended = () => {
            prog[id] = true;
            localStorage.setItem('oman_final_v5', JSON.stringify(prog));
            closePlayer();
        };
        switchView('v-list', 'v-play');
    }

    function closePlayer() {
        document.getElementById('player-area').innerHTML = "";
        switchView('v-play', 'v-list');
        renderSurahs();
    }

    function updateProgress(list) {
        const done = list.filter(i => prog[i.id]).length;
        const pct = list.length > 0 ? Math.round((done/list.length)*100) : 0;
        document.getElementById('p-bar').style.width = pct + "%";
        document.getElementById('pct-text').innerText = pct + "%";
    }

    init();
</script>
</body>
</html>
