<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù…Ù†ØµØ© Ø¯ÙŠÙ†ÙŠ Ù‚ÙŠÙ…ÙŠ | Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Amiri:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --royal-green: #004d40;
            --omani-gold: #D4AF37;
            --light-gold: #fdfaf0;
            --white: #ffffff;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body { 
            font-family: 'Cairo', sans-serif; 
            background-color: #f4f4f4; 
            margin: 0; 
            padding-bottom: 50px; /* Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© ÙÙŠ Ø§Ù„Ù‡Ø§ØªÙ */
        }

        /* Ù‡ÙŠØ¯Ø± Ù…ØªØ¬Ø§ÙˆØ¨ */
        header {
            background: linear-gradient(135deg, var(--royal-green), #002d26);
            color: white;
            padding: 15px;
            text-align: center;
            border-bottom: 4px solid var(--omani-gold);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        header img { height: 50px; margin-bottom: 5px; }
        header h1 { font-size: 1.1rem; margin: 0; color: var(--omani-gold); }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        .container { padding: 15px; max-width: 800px; margin: auto; }

        /* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙ ÙˆØ§Ù„ÙØµÙ„ - ØªØµÙ…ÙŠÙ… Ù…Ø±ÙŠØ­ Ù„Ù„Ù…Ø³ */
        .selector-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        select {
            flex: 1;
            padding: 12px;
            border-radius: 12px;
            border: 2px solid var(--omani-gold);
            font-family: 'Cairo';
            background: white;
        }

        /* Ù‚Ø³Ù… Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„ØµÙˆØªÙŠ - Ù…Ø­Ø³Ù† Ù„Ù„Ù‡Ø§ØªÙ */
        .quran-card {
            background: var(--white);
            border-radius: 20px;
            padding: 25px 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid var(--omani-gold);
        }
        .mushaf-text {
            line-height: 2.2;
            margin-bottom: 25px;
            min-height: 150px;
        }
        .word {
            font-family: 'Amiri';
            font-size: 1.8rem; /* Ø­Ø¬Ù… Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù‡Ø§ØªÙ */
            margin: 0 4px;
            display: inline-block;
            padding: 2px 8px;
            border-radius: 8px;
            transition: 0.3s;
        }
        .active-word {
            background: var(--omani-gold);
            color: white;
            transform: scale(1.1);
        }

        /* Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ¨ÙŠØ± */
        .play-btn {
            background: var(--royal-green);
            color: white;
            border: none;
            width: 100%;
            padding: 15px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª - Ù…ØªØ¬Ø§ÙˆØ¨Ø© */
        .video-grid {
            display: grid;
            grid-template-columns: 1fr; /* Ø¹Ù…ÙˆØ¯ ÙˆØ§Ø­Ø¯ ÙÙŠ Ø§Ù„Ù‡Ø§ØªÙ */
            gap: 15px;
        }
        @media (min-width: 600px) {
            .video-grid { grid-template-columns: 1fr 1fr; } /* Ø¹Ù…ÙˆØ¯ÙŠÙ† ÙÙŠ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø£ÙƒØ¨Ø± */
        }
        .video-card {
            background: black;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid var(--omani-gold);
            aspect-ratio: 16/9;
        }

        /* ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© (Ù…Ø«Ù„ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ) */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            border-top: 2px solid var(--omani-gold);
        }
        .nav-item {
            font-size: 0.75rem;
            color: #666;
            text-align: center;
            cursor: pointer;
        }
        .nav-item.active { color: var(--royal-green); font-weight: bold; }
        .nav-item i { display: block; font-size: 1.2rem; margin-bottom: 2px; }

        .hidden { display: none; }
    </style>
</head>
<body>

<header>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Emblem_of_Oman.svg/1200px-Emblem_of_Oman.svg.png" alt="Ø´Ø¹Ø§Ø± Ø¹Ù…Ø§Ù†">
    <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (5-8)</h1>
</header>

<div class="container">
    <div class="selector-group">
        <select id="gradeSelect" onchange="initApp()">
            <option value="5">Ø§Ù„ØµÙ 5</option>
            <option value="6">Ø§Ù„ØµÙ 6</option>
            <option value="7">Ø§Ù„ØµÙ 7</option>
            <option value="8">Ø§Ù„ØµÙ 8</option>
        </select>
        <select id="termSelect" onchange="initApp()">
            <option value="1">Ø§Ù„ÙØµÙ„ 1</option>
            <option value="2">Ø§Ù„ÙØµÙ„ 2</option>
        </select>
    </div>

    <div id="quran-sec" class="content-sec">
        <div class="quran-card">
            <h2 id="sura-name" style="color:var(--royal-green); font-size: 1.2rem;">Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬</h2>
            <div id="mushaf-display" class="mushaf-text"></div>
            <button class="play-btn" onclick="toggleAudio()" id="mainPlayBtn">
                <span>â–¶</span> ØªØ´ØºÙŠÙ„ ÙˆØªØªØ¨Ø¹ Ø§Ù„ØªÙ„Ø§ÙˆØ©
            </button>
            <audio id="audioElement"></audio>
        </div>
    </div>

    <div id="video-sec" class="content-sec hidden">
        <div class="video-grid" id="video-grid">
            </div>
    </div>

    <div id="game-sec" class="content-sec hidden">
        <div class="quran-card" id="quiz-container">
            <h3>ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h3>
            <p id="question">Ø§Ø¶ØºØ· Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©</p>
            <div id="options-box"></div>
        </div>
    </div>
</div>

<nav class="bottom-nav">
    <div class="nav-item active" onclick="switchSection('quran-sec', this)">ğŸ“–<br>ØªÙ„Ø§ÙˆØ©</div>
    <div class="nav-item" onclick="switchSection('video-sec', this)">ğŸ¥<br>ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</div>
    <div class="nav-item" onclick="switchSection('game-sec', this)">ğŸ®<br>Ø£Ù„Ø¹Ø§Ø¨</div>
</nav>

<script>
    const appData = {
        "5": {
            sura: "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬",
            words: ["Ø³ÙØ£ÙÙ„Ù", "Ø³ÙØ§Ø¦ÙÙ„ÙŒ", "Ø¨ÙØ¹ÙØ°ÙØ§Ø¨Ù", "ÙˆÙØ§Ù‚ÙØ¹Ù", "Ù„ÙÙ‘Ù„Ù’ÙƒÙØ§ÙÙØ±ÙÙŠÙ†Ù", "Ù„ÙÙŠÙ’Ø³Ù", "Ù„ÙÙ‡Ù", "Ø¯ÙØ§ÙÙØ¹ÙŒ"],
            times: [0.8, 2.0, 3.2, 4.5, 5.8, 7.2, 8.2, 9.2],
            audio: "https://server11.mp3quran.net/huzaifi/070.mp3",
            vids: ["O8XJmXqN_zU", "V6S6t-3s6iM", "7hYy1F6vO4k", "d6p2zX7-0gM"]
        },
        "6": {
            sura: "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ",
            words: ["ØªÙØ¨ÙØ§Ø±ÙÙƒÙ", "Ø§Ù„ÙÙ‘Ø°ÙÙŠ", "Ø¨ÙÙŠÙØ¯ÙÙ‡Ù", "Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ", "ÙˆÙÙ‡ÙÙˆÙ", "Ø¹ÙÙ„ÙÙ‰Ù°", "ÙƒÙÙ„ÙÙ‘", "Ø´ÙÙŠÙ’Ø¡Ù", "Ù‚ÙØ¯ÙÙŠØ±ÙŒ"],
            times: [1, 2, 3, 4, 5, 6, 7, 8, 9],
            audio: "https://server11.mp3quran.net/huzaifi/067.mp3",
            vids: ["Yf-S-0I0_Sg", "G7rR0V4J7mE", "L4P9E3f9B_s", "K8P7D6c5B_a"]
        }
    };

    let isPlaying = false;

    function switchSection(id, el) {
        document.querySelectorAll('.content-sec').forEach(s => s.classList.add('hidden'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.remove('hidden');
        el.classList.add('active');
    }

    function initApp() {
        const grade = document.getElementById('gradeSelect').value;
        const data = appData[grade] || appData["5"];

        // ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ù‚Ø±Ø¢Ù†
        document.getElementById('sura-name').innerText = data.sura;
        const mushaf = document.getElementById('mushaf-display');
        mushaf.innerHTML = data.words.map((w, i) => `<span class="word" id="word-${i}">${w}</span>`).join('');

        const audio = document.getElementById('audioElement');
        audio.src = data.audio;
        audio.load();

        // Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„ØµÙˆØªÙŠ
        audio.ontimeupdate = () => {
            const now = audio.currentTime;
            data.times.forEach((t, i) => {
                if (now >= t) {
                    document.querySelectorAll('.word').forEach(w => w.classList.remove('active-word'));
                    document.getElementById(`word-${i}`).classList.add('active-word');
                }
            });
        };

        // ØªØ¬Ù‡ÙŠØ² Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª (4)
        const vGrid = document.getElementById('video-grid');
        vGrid.innerHTML = data.vids.map(id => `
            <div class="video-card">
                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/${id}" frameborder="0" allowfullscreen></iframe>
            </div>
        `).join('');
    }

    function toggleAudio() {
        const audio = document.getElementById('audioElement');
        const btn = document.getElementById('mainPlayBtn');
        
        if (!isPlaying) {
            audio.play().then(() => {
                isPlaying = true;
                btn.innerHTML = "<span>â¸</span> Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª";
            }).catch(e => alert("Ø§Ø¶ØºØ· Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª"));
        } else {
            audio.pause();
            isPlaying = false;
            btn.innerHTML = "<span>â–¶</span> Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„ØªÙ„Ø§ÙˆØ©";
        }
    }

    // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
    window.onload = initApp;
</script>

</body>
</html>
