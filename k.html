<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© | ÙÙŠØµÙ„ Ø§Ù„Ø¹Ø±ÙŠØ¨ÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Amiri:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --royal-green: #004d40; --gold: #D4AF37; --bg: #f4f1ea; --white: #ffffff; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Cairo', sans-serif; background: var(--bg); margin: 0; overflow-x: hidden; }

        header {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            background: rgba(0, 77, 64, 0.95); backdrop-filter: blur(10px);
            border-bottom: 4px solid var(--gold); padding: 10px 25px;
            display: flex; justify-content: space-between; align-items: center; color: white;
        }
        .oman-logo { height: 45px; filter: brightness(0) invert(1); }

        main { margin-top: 110px; padding: 20px; max-width: 1200px; margin-left: auto; margin-right: auto; min-height: 80vh; }

        .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .main-card {
            background: var(--white); border-radius: 20px; padding: 30px; text-align: center;
            border: 1px solid rgba(212,175,55,0.3); box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            cursor: pointer; transition: 0.4s;
        }
        .main-card:hover { transform: translateY(-8px); border-color: var(--gold); }

        #video-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); display: none; z-index: 9999;
            justify-content: center; align-items: center; flex-direction: column;
        }
        .video-box { width: 90%; max-width: 800px; background: #000; border: 3px solid var(--gold); border-radius: 15px; overflow: hidden; }

        .mushaf-container { background: white; border-radius: 25px; padding: 40px; border: 3px double var(--gold); text-align: center; line-height: 2.8; }
        .word { font-family: 'Amiri'; font-size: 2.3rem; padding: 0 8px; display: inline-block; transition: 0.3s; color: #333; }
        .active-word { color: var(--gold); transform: scale(1.2); font-weight: bold; text-shadow: 0 0 10px rgba(212,175,55,0.4); }

        .audio-bar {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 550px; background: white; border-radius: 100px;
            padding: 12px 25px; border: 3px solid var(--gold); display: none;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3); z-index: 2500; align-items: center; gap: 15px;
        }
        .btn-play { background: var(--royal-green); color: white; border: none; width: 50px; height: 50px; border-radius: 50%; cursor: pointer; font-size: 1.3rem; }
        .btn-royal { background: var(--royal-green); color: var(--gold); border: 2px solid var(--gold); padding: 12px 25px; border-radius: 50px; cursor: pointer; font-weight: bold; margin: 5px; }

        .view { display: none; }
        .active-view { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        footer { background: #002d26; color: white; padding: 30px; text-align: center; border-top: 5px solid var(--gold); margin-top: 50px; }
    </style>
</head>
<body>

<header>
    <div>
        <h1 style="margin:0; font-size:1.1rem;">Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</h1>
        <small style="color:var(--gold)">Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ„Ø§ÙˆØ© Ø§Ù„Ø±Ù‚Ù…ÙŠ | Ø¥Ø´Ø±Ø§Ù ÙÙŠØµÙ„ Ø§Ù„Ø¹Ø±ÙŠØ¨ÙŠ</small>
    </div>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Emblem_of_Oman.svg/1200px-Emblem_of_Oman.svg.png" class="oman-logo">
</header>

<main>
    <section id="home" class="view active-view">
        <div class="card-grid" id="grades-grid"></div>
    </section>

    <section id="terms" class="view">
        <button class="btn-royal" onclick="showView('home')">â¬… Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        <div class="card-grid">
            <div class="main-card" onclick="renderSuras(1)"><h3>Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø£ÙˆÙ„</h3></div>
            <div class="main-card" onclick="renderSuras(2)"><h3>Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ</h3></div>
        </div>
    </section>

    <section id="suras" class="view">
        <button class="btn-royal" onclick="showView('terms')">â¬… Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙØµÙˆÙ„</button>
        <div id="suras-list"></div>
    </section>

    <section id="reading" class="view">
        <button class="btn-royal" onclick="exitReading()">â¬… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªÙ„Ø§ÙˆØ© ÙˆØ§Ù„Ø¹ÙˆØ¯Ø©</button>
        <div class="mushaf-container" id="mushaf-content"></div>
    </section>
</main>

<div id="video-overlay">
    <div class="video-box" id="player-container"><div id="yt-player"></div></div>
    <button class="btn-royal" onclick="closeVideo()" style="margin-top:20px; background:#d32f2f; color:white; border:none; padding:15px 40px;">âŒ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø³ÙˆØ±Ø©</button>
</div>

<div class="audio-bar" id="audioBar">
    <button class="btn-play" onclick="toggleAudio()" id="pBtn">â–¶</button>
    <div style="flex:1">
        <div id="audio-title" style="font-weight:bold; color:var(--royal-green); font-size:0.9rem;"></div>
        <div style="width:100%; height:6px; background:#eee; border-radius:5px; margin-top:5px; overflow:hidden;">
            <div id="a-prog" style="width:0%; height:100%; background:var(--gold); transition: 0.1s;"></div>
        </div>
    </div>
</div>

<audio id="audioEngine"></audio>

<footer><p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ 2025 Â© | ØªØµÙ…ÙŠÙ… ÙˆØ¨Ø±Ù…Ø¬Ø©: ÙÙŠØµÙ„ Ø§Ù„Ø¹Ø±ÙŠØ¨ÙŠ</p></footer>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
    const curriculum = {
        5: { 
            1: [{n: "Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª", id: "077", txt: "ÙˆÙØ§Ù„Ù’Ù…ÙØ±Ù’Ø³ÙÙ„ÙØ§ØªÙ Ø¹ÙØ±Ù’ÙÙ‹Ø§ ÙÙØ§Ù„Ù’Ø¹ÙØ§ØµÙÙÙØ§ØªÙ Ø¹ÙØµÙ’ÙÙ‹Ø§ ÙˆÙØ§Ù„Ù†Ù‘ÙØ§Ø´ÙØ±ÙØ§ØªÙ Ù†ÙØ´Ù’Ø±Ù‹Ø§ ÙÙØ§Ù„Ù’ÙÙØ§Ø±ÙÙ‚ÙØ§ØªÙ ÙÙØ±Ù’Ù‚Ù‹Ø§"}, {n: "Ø§Ù„Ø¥Ù†Ø³Ø§Ù† (1-14)", id: "076", txt: "Ù‡ÙÙ„Ù’ Ø£ÙØªÙÙ‰Ù° Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ø¥ÙÙ†Ø³ÙØ§Ù†Ù Ø­ÙÙŠÙ†ÙŒ Ù…Ù‘ÙÙ†Ù Ø§Ù„Ø¯Ù‘ÙÙ‡Ù’Ø±Ù Ù„ÙÙ…Ù’ ÙŠÙÙƒÙÙ† Ø´ÙÙŠÙ’Ø¦Ù‹Ø§ Ù…Ù‘ÙØ°Ù’ÙƒÙÙˆØ±Ù‹Ø§"}],
            2: [{n: "Ø§Ù„Ø¥Ù†Ø³Ø§Ù† (15-31)", id: "076", txt: "ÙˆÙÙŠÙØ·ÙØ§ÙÙ Ø¹ÙÙ„ÙÙŠÙ’Ù‡ÙÙ… Ø¨ÙØ¢Ù†ÙÙŠÙØ©Ù Ù…Ù‘ÙÙ† ÙÙØ¶Ù‘ÙØ©Ù ÙˆÙØ£ÙÙƒÙ’ÙˆÙØ§Ø¨Ù ÙƒÙØ§Ù†ÙØªÙ’ Ù‚ÙÙˆÙØ§Ø±ÙÙŠØ±ÙØ§"}, {n: "Ø§Ù„Ù‚ÙŠØ§Ù…Ø©", id: "075", txt: "Ù„ÙØ§ Ø£ÙÙ‚Ù’Ø³ÙÙ…Ù Ø¨ÙÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ù’Ù‚ÙÙŠÙØ§Ù…ÙØ©Ù ÙˆÙÙ„ÙØ§ Ø£ÙÙ‚Ù’Ø³ÙÙ…Ù Ø¨ÙØ§Ù„Ù†Ù‘ÙÙÙ’Ø³Ù Ø§Ù„Ù„Ù‘ÙÙˆÙ‘ÙØ§Ù…ÙØ©Ù"}]
        },
        6: { 
            1: [{n: "Ø§Ù„Ù…Ø¯Ø«Ø±", id: "074", txt: "ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù’Ù…ÙØ¯Ù‘ÙØ«Ù‘ÙØ±Ù Ù‚ÙÙ…Ù’ ÙÙØ£ÙÙ†Ø°ÙØ±Ù’ ÙˆÙØ±ÙØ¨Ù‘ÙÙƒÙ ÙÙÙƒÙØ¨Ù‘ÙØ±Ù’"}, {n: "Ø§Ù„Ù…Ø²Ù…Ù„", id: "073", txt: "ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù’Ù…ÙØ²Ù‘ÙÙ…Ù‘ÙÙ„Ù Ù‚ÙÙ…Ù Ø§Ù„Ù„Ù‘ÙÙŠÙ’Ù„Ù Ø¥ÙÙ„Ù‘ÙØ§ Ù‚ÙÙ„ÙÙŠÙ„Ù‹Ø§"}],
            2: [{n: "Ø§Ù„Ø¬Ù†", id: "072", txt: "Ù‚ÙÙ„Ù’ Ø£ÙÙˆØ­ÙÙŠÙ Ø¥ÙÙ„ÙÙŠÙ‘Ù Ø£ÙÙ†Ù‘ÙÙ‡Ù Ø§Ø³Ù’ØªÙÙ…ÙØ¹Ù Ù†ÙÙÙØ±ÙŒ Ù…Ù‘ÙÙ†Ù Ø§Ù„Ù’Ø¬ÙÙ†Ù‘Ù"}, {n: "Ù†ÙˆØ­", id: "071", txt: "Ø¥ÙÙ†Ù‘ÙØ§ Ø£ÙØ±Ù’Ø³ÙÙ„Ù’Ù†ÙØ§ Ù†ÙÙˆØ­Ù‹Ø§ Ø¥ÙÙ„ÙÙ‰Ù° Ù‚ÙÙˆÙ’Ù…ÙÙ‡Ù Ø£ÙÙ†Ù’ Ø£ÙÙ†Ø°ÙØ±Ù’ Ù‚ÙÙˆÙ’Ù…ÙÙƒÙ"}]
        },
        7: {
            1: [{n: "Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬", id: "070", txt: "Ø³ÙØ£ÙÙ„Ù Ø³ÙØ§Ø¦ÙÙ„ÙŒ Ø¨ÙØ¹ÙØ°ÙØ§Ø¨Ù ÙˆÙØ§Ù‚ÙØ¹Ù Ù„Ù‘ÙÙ„Ù’ÙƒÙØ§ÙÙØ±ÙÙŠÙ†Ù Ù„ÙÙŠÙ’Ø³Ù Ù„ÙÙ‡Ù Ø¯ÙØ§ÙÙØ¹ÙŒ"}, {n: "Ø§Ù„Ø­Ø§Ù‚Ø©", id: "069", txt: "Ø§Ù„Ù’Ø­ÙØ§Ù‚Ù‘ÙØ©Ù Ù…ÙØ§ Ø§Ù„Ù’Ø­ÙØ§Ù‚Ù‘ÙØ©Ù ÙˆÙÙ…ÙØ§ Ø£ÙØ¯Ù’Ø±ÙØ§ÙƒÙ Ù…ÙØ§ Ø§Ù„Ù’Ø­ÙØ§Ù‚Ù‘ÙØ©Ù"}],
            2: [{n: "Ø§Ù„Ù‚Ù„Ù…", id: "068", txt: "Ù† ÙˆÙØ§Ù„Ù’Ù‚ÙÙ„ÙÙ…Ù ÙˆÙÙ…ÙØ§ ÙŠÙØ³Ù’Ø·ÙØ±ÙÙˆÙ†Ù Ù…ÙØ§ Ø£ÙÙ†ØªÙ Ø¨ÙÙ†ÙØ¹Ù’Ù…ÙØ©Ù Ø±ÙØ¨Ù‘ÙÙƒÙ"}, {n: "Ø§Ù„Ù…Ù„Ùƒ", id: "067", txt: "ØªÙØ¨ÙØ§Ø±ÙÙƒÙ Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø¨ÙÙŠÙØ¯ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰Ù° ÙƒÙÙ„Ù‘Ù Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ"}]
        },
        8: {
            1: [{n: "Ø§Ù„ØªØºØ§Ø¨Ù†", id: "064", txt: "ÙŠÙØ³ÙØ¨Ù‘ÙØ­Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙÙ…ÙØ§ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù"}, {n: "Ø§Ù„Ø·Ù„Ø§Ù‚ (1-5)", id: "065", txt: "ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù†Ù‘ÙØ¨ÙÙŠÙ‘Ù Ø¥ÙØ°ÙØ§ Ø·ÙÙ„Ù‘ÙÙ‚Ù’ØªÙÙ…Ù Ø§Ù„Ù†Ù‘ÙØ³ÙØ§Ø¡Ù ÙÙØ·ÙÙ„Ù‘ÙÙ‚ÙÙˆÙ‡ÙÙ†Ù‘Ù"}],
            2: [{n: "Ø§Ù„Ø·Ù„Ø§Ù‚ (6-12)", id: "065", txt: "Ø£ÙØ³Ù’ÙƒÙÙ†ÙÙˆÙ‡ÙÙ†Ù‘Ù Ù…ÙÙ†Ù’ Ø­ÙÙŠÙ’Ø«Ù Ø³ÙÙƒÙÙ†ØªÙÙ… Ù…Ù‘ÙÙ† ÙˆÙØ¬Ù’Ø¯ÙÙƒÙÙ…Ù’"}, {n: "Ø§Ù„ØªØ­Ø±ÙŠÙ…", id: "066", txt: "ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù†Ù‘ÙØ¨ÙÙŠÙ‘Ù Ù„ÙÙ…Ù ØªÙØ­ÙØ±Ù‘ÙÙ…Ù Ù…ÙØ§ Ø£ÙØ­ÙÙ„Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù„ÙÙƒÙ"}]
        },
        9: {
            1: [{n: "Ø§Ù„Ø¬Ù…Ø¹Ø©", id: "062", txt: "ÙŠÙØ³ÙØ¨Ù‘ÙØ­Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙÙ…ÙØ§ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù"}, {n: "Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†", id: "063", txt: "Ø¥ÙØ°ÙØ§ Ø¬ÙØ§Ø¡ÙÙƒÙ Ø§Ù„Ù’Ù…ÙÙ†ÙØ§ÙÙÙ‚ÙÙˆÙ†Ù Ù‚ÙØ§Ù„ÙÙˆØ§ Ù†ÙØ´Ù’Ù‡ÙØ¯Ù Ø¥ÙÙ†Ù‘ÙÙƒÙ Ù„ÙØ±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù"}],
            2: [{n: "Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©", id: "060", txt: "ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ù„ÙØ§ ØªÙØªÙ‘ÙØ®ÙØ°ÙÙˆØ§ Ø¹ÙØ¯ÙÙˆÙ‘ÙÙŠ ÙˆÙØ¹ÙØ¯ÙÙˆÙ‘ÙÙƒÙÙ…Ù’"}, {n: "Ø§Ù„ØµÙ", id: "061", txt: "Ø³ÙØ¨Ù‘ÙØ­Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙÙ…ÙØ§ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù"}]
        },
        10: {
            1: [{n: "Ø§Ù„Ø­Ø´Ø±", id: "059", txt: "Ø³ÙØ¨Ù‘ÙØ­Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙÙ…ÙØ§ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ù’Ø¹ÙØ²ÙÙŠØ²Ù Ø§Ù„Ù’Ø­ÙÙƒÙÙŠÙ…Ù"}],
            2: [{n: "Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©", id: "058", txt: "Ù‚ÙØ¯Ù’ Ø³ÙÙ…ÙØ¹Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù‚ÙÙˆÙ’Ù„Ù Ø§Ù„Ù‘ÙØªÙÙŠ ØªÙØ¬ÙØ§Ø¯ÙÙ„ÙÙƒÙ ÙÙÙŠ Ø²ÙÙˆÙ’Ø¬ÙÙ‡ÙØ§"}]
        },
        11: {
            1: [{n: "Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†", id: "003", txt: "ÙÙØ¨ÙÙ…ÙØ§ Ø±ÙØ­Ù’Ù…ÙØ©Ù Ù…Ù‘ÙÙ†Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù„ÙÙ†ØªÙ Ù„ÙÙ‡ÙÙ…Ù’ ÙˆÙÙ„ÙÙˆÙ’ ÙƒÙÙ†ØªÙ ÙÙØ¸Ù‘Ù‹Ø§"}, {n: "Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡", id: "021", txt: "ÙˆÙÙ„ÙÙ‡Ù Ù…ÙÙ† ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙØ§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù ÙˆÙÙ…ÙÙ†Ù’ Ø¹ÙÙ†Ø¯ÙÙ‡Ù"}],
            2: [{n: "Ø§Ù„Ø£Ø¹Ø±Ø§Ù", id: "007", txt: "Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù ØªÙØ¯Ù’Ø¹ÙÙˆÙ†Ù Ù…ÙÙ† Ø¯ÙÙˆÙ†Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø¹ÙØ¨ÙØ§Ø¯ÙŒ Ø£ÙÙ…Ù’Ø«ÙØ§Ù„ÙÙƒÙÙ…Ù’"}, {n: "Ø§Ù„Ù†ÙˆØ±", id: "024", txt: "ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ù„ÙÙŠÙØ³Ù’ØªÙØ£Ù’Ø°ÙÙ†ÙƒÙÙ…Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ù…ÙÙ„ÙÙƒÙØªÙ’"}]
        },
        12: {
            1: [{n: "Ù…Ø­Ù…Ø¯", id: "047", txt: "Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙŠÙØ¯Ù’Ø®ÙÙ„Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ ÙˆÙØ¹ÙÙ…ÙÙ„ÙÙˆØ§ Ø§Ù„ØµÙ‘ÙØ§Ù„ÙØ­ÙØ§ØªÙ"}, {n: "Ø§Ù„Ù†ÙˆØ± (Ø¢ÙŠØ© 30)", id: "024", txt: "Ù‚ÙÙ„ Ù„Ù‘ÙÙ„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†Ù ÙŠÙØºÙØ¶Ù‘ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø£ÙØ¨Ù’ØµÙØ§Ø±ÙÙ‡ÙÙ…Ù’ ÙˆÙÙŠÙØ­Ù’ÙÙØ¸ÙÙˆØ§"}],
            2: [{n: "Ø§Ù„ÙƒÙ‡Ù", id: "018", txt: "Ø£ÙÙ…Ù’ Ø­ÙØ³ÙØ¨Ù’ØªÙ Ø£ÙÙ†Ù‘Ù Ø£ÙØµÙ’Ø­ÙØ§Ø¨Ù Ø§Ù„Ù’ÙƒÙÙ‡Ù’ÙÙ ÙˆÙØ§Ù„Ø±Ù‘ÙÙ‚ÙÙŠÙ…Ù ÙƒÙØ§Ù†ÙÙˆØ§"}]
        }
    };

    let selectedGrade, player;
    const audioEngine = document.getElementById('audioEngine');

    const grid = document.getElementById('grades-grid');
    for(let i=5; i<=12; i++) { grid.innerHTML += `<div class="main-card" onclick="selectGrade(${i})"><h2>Ø§Ù„ØµÙ ${i}</h2><p>Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø¹Ù…Ø§Ù†ÙŠ</p></div>`; }

    function showView(id) { document.querySelectorAll('.view').forEach(v => v.classList.remove('active-view')); document.getElementById(id).classList.add('active-view'); }
    function selectGrade(g) { selectedGrade = g; showView('terms'); }

    function renderSuras(term) {
        const list = document.getElementById('suras-list');
        list.innerHTML = `<h2 style="text-align:center; color:var(--royal-green)">Ø³ÙˆØ± Ø§Ù„ÙØµÙ„ ${term}</h2>`;
        curriculum[selectedGrade][term].forEach(s => {
            list.innerHTML += `<div class="main-card" style="margin-bottom:15px; display:flex; justify-content:space-between; align-items:center; padding:15px 25px;">
                <h3 style="margin:0">Ø³ÙˆØ±Ø© ${s.n}</h3>
                <div>
                    <button class="btn-royal" onclick="startReading('${s.n}', '${s.id}', '${s.txt}')">ğŸ”Š ØªÙ„Ø§ÙˆØ©</button>
                    <button class="btn-royal" style="background:var(--gold); color:white;" onclick="openVideo('dQw4w9WgXcQ')">ğŸ“º ÙÙŠØ¯ÙŠÙˆ</button>
                </div>
            </div>`;
        });
        showView('suras');
    }

    function openVideo(vidId) {
        document.getElementById('video-overlay').style.display = 'flex';
        player = new YT.Player('yt-player', { height: '360', width: '100%', videoId: vidId, events: { 'onStateChange': (e) => { if(e.data === 0) closeVideo(); } } });
    }

    function closeVideo() {
        if (player && player.stopVideo) player.stopVideo();
        document.getElementById('video-overlay').style.display = 'none';
        document.getElementById('player-container').innerHTML = '<div id="yt-player"></div>';
    }

    function startReading(name, id, text) {
        const words = text.split(" ");
        document.getElementById('mushaf-content').innerHTML = `<h2>Ø³ÙˆØ±Ø© ${name}</h2>` + words.map((w, i) => `<span class="word" id="w-${i}">${w}</span>`).join(' ');
        document.getElementById('audio-title').innerText = "ÙŠØªÙ„Ùˆ Ø§Ù„Ø¢Ù†: Ø³ÙˆØ±Ø© " + name;
        document.getElementById('audioBar').style.display = 'flex';
        audioEngine.src = `https://www.everyayah.com/data/Hudhaify_64kbps/${id}001.mp3`;
        audioEngine.play();
        document.getElementById('pBtn').innerText = "â¸";
        showView('reading');
        audioEngine.ontimeupdate = () => {
            let pct = (audioEngine.currentTime / audioEngine.duration) * 100;
            document.getElementById('a-prog').style.width = pct + "%";
            let wordIdx = Math.floor((audioEngine.currentTime / audioEngine.duration) * words.length);
            document.querySelectorAll('.word').forEach(el => el.classList.remove('active-word'));
            if(document.getElementById(`w-${wordIdx}`)) document.getElementById(`w-${wordIdx}`).classList.add('active-word');
        };
    }

    function toggleAudio() { if(audioEngine.paused) { audioEngine.play(); document.getElementById('pBtn').innerText = "â¸"; } else { audioEngine.pause(); document.getElementById('pBtn').innerText = "â–¶"; } }
    function exitReading() { audioEngine.pause(); document.getElementById('audioBar').style.display = 'none'; showView('suras'); }
    function onYouTubeIframeAPIReady() {}
</script>
</body>
</html>
