<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù…Ù†ØµØ© Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ | Ø¯ÙŠÙ†ÙŠ Ù‚ÙŠÙ…ÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Amiri:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --royal-green: #004d40; --gold: #D4AF37; --bg: #f8faf9; }
        
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Cairo', sans-serif; background: var(--bg); margin: 0; overflow-x: hidden; }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ù„ÙƒÙŠ */
        header {
            background: linear-gradient(135deg, var(--royal-green), #002d26);
            color: white; padding: 25px 15px; text-align: center;
            border-bottom: 5px solid var(--gold); box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        header img { height: 60px; margin-bottom: 10px; }
        header h1 { font-size: 1.2rem; margin: 0; color: var(--gold); font-family: 'Amiri'; }

        .container { max-width: 600px; margin: auto; padding: 15px; }

        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ØµÙÙˆÙ */
        .selector-card {
            background: white; border-radius: 15px; padding: 15px;
            margin-bottom: 20px; border: 1px solid #ddd; display: flex; gap: 10px;
        }
        select {
            flex: 1; padding: 12px; border-radius: 10px; border: 2px solid var(--gold);
            font-family: 'Cairo'; font-weight: bold; background: white;
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙ„Ø§ÙˆØ© ÙˆØ§Ù„ØªØªØ¨Ø¹ */
        .mushaf-card {
            background: white; border-radius: 25px; padding: 30px 15px;
            text-align: center; border: 2px solid var(--gold);
            box-shadow: 0 10px 25px rgba(0,0,0,0.05); position: relative;
        }
        .mushaf-text { min-height: 180px; line-height: 2.8; margin-bottom: 30px; }
        .word {
            font-family: 'Amiri'; font-size: 2.2rem; margin: 0 5px;
            display: inline-block; transition: 0.3s; padding: 2px 8px; border-radius: 10px;
        }
        /* ØªØ¸Ù„ÙŠÙ„ Ø§Ù„ÙƒÙ„Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© */
        .word.active { background: var(--gold); color: white; transform: scale(1.15); box-shadow: 0 5px 15px rgba(212, 175, 55, 0.4); }

        /* Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ¨ÙŠØ± Ø§Ù„Ù…ØµÙ…Ù… Ù„Ù„Ù‡Ø§ØªÙ */
        .play-btn {
            background: var(--royal-green); color: white; border: none;
            width: 100%; padding: 20px; border-radius: 50px;
            font-size: 1.3rem; font-weight: bold; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 15px;
            box-shadow: 0 8px 20px rgba(0,77,64,0.3);
        }
        .play-btn:active { transform: scale(0.98); }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠØ© */
        .nav-bottom {
            position: fixed; bottom: 0; width: 100%; background: white;
            display: flex; justify-content: space-around; padding: 12px;
            border-top: 3px solid var(--gold); box-shadow: 0 -5px 15px rgba(0,0,0,0.05);
        }
        .nav-item { border: none; background: none; color: var(--royal-green); font-size: 0.8rem; font-weight: bold; }
        
        .hidden { display: none; }
    </style>
</head>
<body>

<header>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Emblem_of_Oman.svg/1200px-Emblem_of_Oman.svg.png">
    <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (5-8)</h1>
    <p style="margin:0; font-size:0.8rem;">Ù…Ù†ØµØ© Ø¯ÙŠÙ†ÙŠ Ù‚ÙŠÙ…ÙŠ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</p>
</header>

<div class="container">
    <div class="selector-card">
        <select id="grade" onchange="initGrade()">
            <option value="5">Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</option>
            <option value="6">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³</option>
            <option value="7">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¨Ø¹</option>
            <option value="8">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù†</option>
        </select>
        <select id="term" onchange="initGrade()">
            <option value="1">Ø§Ù„ÙØµÙ„ 1</option>
            <option value="2">Ø§Ù„ÙØµÙ„ 2</option>
        </select>
    </div>

    <div id="quran-ui">
        <div class="mushaf-card">
            <h3 id="sura-title" style="color:var(--royal-green); margin-top:0;">Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬</h3>
            <div id="mushaf-box" class="mushaf-text">
                </div>
            
            <button class="play-btn" onclick="toggleAudio()" id="controlBtn">
                <span id="playIcon">â–¶</span> ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„ØµÙˆØªÙŠ
            </button>
            <p id="audioStatus" style="font-size: 0.7rem; color: #999; margin-top: 10px;">Ø§Ø¶ØºØ· Ù„Ù„Ø¨Ø¯Ø¡ (Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø± Ø¢Ù…Ù†)</p>
        </div>
    </div>

    <div id="video-ui" class="hidden">
        <div id="video-list" style="display:grid; gap:15px;"></div>
    </div>
</div>

<nav class="nav-bottom">
    <button class="nav-item" onclick="showTab('quran-ui')">ğŸ“–<br>ØªÙ„Ø§ÙˆØ©</button>
    <button class="nav-item" onclick="showTab('video-ui')">ğŸ¥<br>Ø¯Ø±ÙˆØ³</button>
    <button class="nav-item" onclick="alert('Ù…Ø±ÙƒØ² Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«')">ğŸ®<br>Ø£Ù„Ø¹Ø§Ø¨</button>
</nav>

<audio id="mainAudio" crossorigin="anonymous"></audio>

<script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø© Ø¬Ø¯Ø§Ù‹
    const db = {
        "5": {
            sura: "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬",
            words: ["Ø³ÙØ£ÙÙ„Ù", "Ø³ÙØ§Ø¦ÙÙ„ÙŒ", "Ø¨ÙØ¹ÙØ°ÙØ§Ø¨Ù", "ÙˆÙØ§Ù‚ÙØ¹Ù", "Ù„ÙÙ‘Ù„Ù’ÙƒØ§ÙÙÙØ±ÙÙŠÙ†Ù", "Ù„ÙÙŠÙ’Ø³Ù", "Ù„ÙÙ‡Ù", "Ø¯ÙØ§ÙÙØ¹ÙŒ"],
            times: [0.7, 1.8, 3.1, 4.4, 5.8, 7.2, 8.2, 9.2],
            audio: "https://www.everyayah.com/data/Hudhaify_64kbps/070001.mp3",
            vids: ["O8XJmXqN_zU", "V6S6t-3s6iM", "7hYy1F6vO4k", "d6p2zX7-0gM"]
        },
        "6": {
            sura: "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ",
            words: ["ØªÙØ¨ÙØ§Ø±ÙÙƒÙ", "Ø§Ù„ÙÙ‘Ø°ÙÙŠ", "Ø¨ÙÙŠÙØ¯ÙÙ‡Ù", "Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ", "ÙˆÙÙ‡ÙÙˆÙ", "Ø¹ÙÙ„ÙÙ‰Ù°", "ÙƒÙÙ„ÙÙ‘", "Ø´ÙÙŠÙ’Ø¡Ù", "Ù‚ÙØ¯ÙÙŠØ±ÙŒ"],
            times: [1.0, 2.2, 3.2, 4.2, 5.2, 6.2, 7.2, 8.2, 9.2],
            audio: "https://www.everyayah.com/data/Hudhaify_64kbps/067001.mp3",
            vids: ["Yf-S-0I0_Sg", "G7rR0V4J7mE", "L4P9E3f9B_s", "K8P7D6c5B_a"]
        }
    };

    const audio = document.getElementById('mainAudio');
    let isPlaying = false;

    function initGrade() {
        const grade = document.getElementById('grade').value;
        const data = db[grade] || db["5"];
        
        // Ø¶Ø¨Ø· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„ÙƒÙ„Ù…Ø§Øª
        document.getElementById('sura-title').innerText = data.sura;
        const box = document.getElementById('mushaf-box');
        box.innerHTML = data.words.map((w, i) => `<span class="word" id="w-${i}">${w}</span>`).join(' ');
        
        // Ø¶Ø¨Ø· Ø§Ù„ØµÙˆØª ÙˆØ§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª
        audio.src = data.audio;
        audio.load();
        isPlaying = false;
        document.getElementById('playIcon').innerText = "â–¶";

        const vList = document.getElementById('video-list');
        vList.innerHTML = data.vids.map(id => `
            <div style="border-radius:15px; overflow:hidden; border:2px solid var(--gold); aspect-ratio:16/9;">
                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/${id}" frameborder="0" allowfullscreen></iframe>
            </div>
        `).join('');
    }

    function toggleAudio() {
        if (!isPlaying) {
            audio.play().then(() => {
                isPlaying = true;
                document.getElementById('playIcon').innerText = "â¸";
                document.getElementById('audioStatus').innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØªØ¨Ø¹ Ø¨Ø¯Ù‚Ø©...";
            }).catch(e => {
                alert("ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ØŒ Ø§Ù„Ù…ØªØµÙØ­ ÙŠØ­ØªØ§Ø¬ Ù„Ø¥Ø°Ù†Ùƒ Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª.");
            });
        } else {
            audio.pause();
            isPlaying = false;
            document.getElementById('playIcon').innerText = "â–¶";
        }
    }

    // Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ (ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª)
    audio.ontimeupdate = () => {
        const grade = document.getElementById('grade').value;
        const times = (db[grade] || db["5"]).times;
        const now = audio.currentTime;

        times.forEach((t, i) => {
            if (now >= t) {
                document.querySelectorAll('.word').forEach(w
