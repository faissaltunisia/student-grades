<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø¯ÙŠÙ†ÙŠ Ù‚ÙŠÙ…ÙŠ | Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ (5-8)</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Amiri:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --royal-green: #004d40;
            --gold: #D4AF37;
            --light-bg: #f8fafb;
            --white: #ffffff;
        }

        body { font-family: 'Cairo', sans-serif; background: var(--light-bg); margin: 0; color: #333; }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø¨Ù‡ÙˆÙŠØ© Ø¹Ù…Ø§Ù†ÙŠØ© */
        header {
            background: linear-gradient(135deg, var(--royal-green), #002d26);
            color: white; padding: 20px 5%; display: flex; justify-content: space-between;
            align-items: center; border-bottom: 5px solid var(--gold);
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        .logo-section { display: flex; align-items: center; gap: 20px; }
        .logo-section img { height: 70px; filter: drop-shadow(0 0 5px white); }
        .school-info h1 { margin: 0; font-size: 1.4rem; color: var(--gold); }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .main-nav { 
            max-width: 1200px; margin: 20px auto; display: grid; 
            grid-template-columns: repeat(4, 1fr); gap: 15px; padding: 0 20px; 
        }
        .nav-item { 
            background: white; padding: 15px; border-radius: 12px; text-align: center;
            cursor: pointer; transition: 0.3s; font-weight: bold; border: 1px solid #ddd;
        }
        .nav-item.active { background: var(--royal-green); color: white; border-color: var(--gold); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        .content-box { max-width: 1100px; margin: auto; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); min-height: 400px; }
        .tab-panel { display: none; }
        .tab-panel.active { display: block; animation: fadeIn 0.5s ease-in; }

        /* Ù†Ø¸Ø§Ù… ØªØªØ¨Ø¹ Ø§Ù„Ù‚Ø±Ø¢Ù† */
        .quran-container { text-align: center; line-height: 3; background: #fffdf5; padding: 30px; border-radius: 15px; border: 1px solid #eee; margin-bottom: 20px; }
        .q-word { font-family: 'Amiri'; font-size: 2.8rem; margin: 0 8px; display: inline-block; padding: 0 8px; border-radius: 10px; transition: background 0.2s, transform 0.2s; }
        .q-word.active { background: var(--gold); color: white; transform: scale(1.15); box-shadow: 0 4px 10px rgba(212, 175, 55, 0.4); }

        /* Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª */
        .video-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
        .video-card { border-radius: 15px; overflow: hidden; background: #000; border-bottom: 5px solid var(--gold); }
        iframe { width: 100%; height: 230px; border: none; }

        /* Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ */
        .game-card { background: #fcf8e3; border: 2px dashed var(--gold); padding: 30px; border-radius: 20px; text-align: center; margin-bottom: 20px; }
        .btn-action { background: var(--royal-green); color: white; border: none; padding: 12px 35px; border-radius: 30px; cursor: pointer; font-size: 1rem; margin-top: 15px; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<header>
    <div class="logo-section">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Emblem_of_Oman.svg/1200px-Emblem_of_Oman.svg.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø³Ù„Ø·Ù†Ø©">
        <div class="school-info">
            <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ø±ÙˆØ¬ Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (5-8)</h1>
            <p>Ø¨ÙˆØ§Ø¨Ø© Ø¯ÙŠÙ†ÙŠ Ù‚ÙŠÙ…ÙŠ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© - Ø³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù†</p>
        </div>
    </div>
    <div style="font-size: 1.2rem;">â­ Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span></div>
</header>

<div style="text-align: center; padding: 20px; background: #fff; border-bottom: 1px solid #ddd;">
    <select id="grade" onchange="loadData()" style="padding: 10px; border-radius: 8px;">
        <option value="5">Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</option>
        <option value="6">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³</option>
        <option value="7">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¨Ø¹</option>
        <option value="8">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù†</option>
        <option value="9">Ø§Ù„ØµÙ Ø§Ù„ØªØ§Ø³Ø¹</option>
        <option value="10">Ø§Ù„ØµÙ Ø§Ù„Ø¹Ø§Ø´Ø±</option>
        <option value="11">Ø§Ù„ØµÙ Ø§Ù„Ø­Ø§Ø¯ÙŠ Ø¹Ø´Ø±</option>
        <option value="12">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¹Ø´Ø±</option>
    </select>
    <select id="term" onchange="loadData()" style="padding: 10px; border-radius: 8px;">
        <option value="1">Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø£ÙˆÙ„</option>
        <option value="2">Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
    </select>
</div>

<div class="main-nav">
    <div class="nav-item active" onclick="switchTab('quran-tab', this)">ğŸ“– Ø§Ù„ØªÙ„Ø§ÙˆØ© ÙˆØ§Ù„ØªØªØ¨Ø¹</div>
    <div class="nav-item" onclick="switchTab('video-tab', this)">ğŸ¥ Ø¯Ø±ÙˆØ³ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</div>
    <div class="nav-item" onclick="switchTab('game-tab', this)">ğŸ® Ø±ÙƒÙ† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</div>
    <div class="nav-item" onclick="switchTab('exam-tab', this)">ğŸ“ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</div>
</div>

<div class="content-box">
    <div id="quran-tab" class="tab-panel active">
        <h2 id="sura-title" style="text-align:center; color: var(--royal-green);">Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬</h2>
        <div class="quran-container" id="quran-text">
            </div>
        <div style="text-align: center;">
            <audio id="audio-player" controls style="width: 80%;"></audio>
            <p id="status" style="font-size: 0.8rem; color: #888;">Ø´ØºÙ‘Ù„ Ø§Ù„ØµÙˆØª Ù„Ø¨Ø¯Ø¡ ØªØªØ¨Ø¹ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
        </div>
    </div>

    <div id="video-tab" class="tab-panel">
        <div class="video-grid" id="video-grid">
            </div>
    </div>

    <div id="game-tab" class="tab-panel">
        <div id="game-list">
            <div class="game-card">
                <h3>ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª (5 Ø£Ø³Ø¦Ù„Ø©)</h3>
                <button class="btn-action" onclick="playGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†</button>
            </div>
        </div>
        <div id="game-play" style="display:none; text-align:center;">
            <h4 id="question"></h4>
            <div id="options"></div>
            <br>
            <button class="btn-action" style="background:#666;" onclick="exitGame()">Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
        </div>
    </div>

    <div id="exam-tab" class="tab-panel">
        <h3 style="text-align:center;">Ù…Ø±ÙƒØ² Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</h3>
        <p style="text-align:center;">Ø§Ø±ÙØ¹ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ù„Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ø®ØµØµØ© Ù„Ùƒ Ù‡Ù†Ø§.</p>
    </div>
</div>

<script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©
    const platformData = {
        "5": {
            sura: "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬",
            audio: "https://server11.mp3quran.net/huzaifi/070.mp3",
            words: ["Ø³ÙØ£ÙÙ„Ù", "Ø³ÙØ§Ø¦ÙÙ„ÙŒ", "Ø¨ÙØ¹ÙØ°ÙØ§Ø¨Ù", "ÙˆÙØ§Ù‚ÙØ¹Ù", "Ù„ÙÙ‘Ù„Ù’ÙƒÙØ§ÙÙØ±ÙÙŠÙ†Ù", "Ù„ÙÙŠÙ’Ø³Ù", "Ù„ÙÙ‡Ù", "Ø¯ÙØ§ÙÙØ¹ÙŒ"],
            times: [0, 1.2, 2.3, 3.5, 4.8, 6.2, 7.0, 7.8], // ØªÙˆÙ‚ÙŠØªØ§Øª Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ Ù„ÙƒÙ„ ÙƒÙ„Ù…Ø©
            vids: ["O8XJmXqN_zU", "V6S6t-3s6iM", "7hYy1F6vO4k", "d6p2zX7-0gM"],
            quiz: [
                {q: "Ù…Ø§ Ù…Ø¹Ù†Ù‰ 'Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬'ØŸ", o: ["Ø§Ù„Ù…ØµØ§Ø¹Ø¯", "Ø§Ù„Ø¬Ø¨Ø§Ù„", "Ø§Ù„Ø¨Ø­Ø§Ø±"], c: 0},
                {q: "Ù…Ø§ Ù…Ø¹Ù†Ù‰ 'ÙˆØ§Ù‚Ø¹'ØŸ", o: ["Ù†Ø§Ø²Ù„ Ù„Ø§ Ù…Ø­Ø§Ù„Ø©", "Ø¨Ø¹ÙŠØ¯", "Ù…Ø³ØªØ­ÙŠÙ„"], c: 0},
                {q: "Ø¹Ø¯Ø¯ Ø¢ÙŠØ§Øª Ø§Ù„Ø³ÙˆØ±Ø©ØŸ", o: ["44", "30", "50"], c: 0},
                {q: "Ù„Ù…Ù† Ø§Ù„Ø¹Ø°Ø§Ø¨ Ø§Ù„ÙˆØ§Ù‚Ø¹ØŸ", o: ["Ù„Ù„ÙƒØ§ÙØ±ÙŠÙ†", "Ù„Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†", "Ù„Ù„Ù…Ø­Ø³Ù†ÙŠÙ†"], c: 0},
                {q: "Ù…Ø§Ø°Ø§ ÙŠØ³Ù…Ù‰ Ø§Ù„ØµØ¨Ø± Ø§Ù„Ø°ÙŠ Ù„Ø§ Ø´ÙƒÙˆÙ‰ ÙÙŠÙ‡ØŸ", o: ["Ø¬Ù…ÙŠÙ„", "Ø·ÙˆÙŠÙ„", "Ù‚Ù„ÙŠÙ„"], c: 0}
            ]
        },
        "6": {
            sura: "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ",
            audio: "https://server11.mp3quran.net/huzaifi/067.mp3",
            words: ["ØªÙØ¨ÙØ§Ø±ÙÙƒÙ", "Ø§Ù„ÙÙ‘Ø°ÙÙŠ", "Ø¨ÙÙŠÙØ¯ÙÙ‡Ù", "Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ", "ÙˆÙÙ‡ÙÙˆÙ", "Ø¹ÙÙ„ÙÙ‰Ù°", "ÙƒÙÙ„ÙÙ‘", "Ø´ÙÙŠÙ’Ø¡Ù", "Ù‚ÙØ¯ÙÙŠØ±ÙŒ"],
            times: [0, 1.5, 2.5, 3.5, 4.5, 5.5, 6.5, 7.5, 8.5],
            vids: ["Yf-S-0I0_Sg", "G7rR0V4J7mE", "L4P9E3f9B_s", "K8P7D6c5B_a"],
            quiz: [{q: "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø©ØŸ", o: ["Ø§Ù„Ù…Ù„Ùƒ", "Ø§Ù„Ù‚Ù„Ù…", "Ù†ÙˆØ­"], c: 0}]
        }
    };

    function switchTab(id, el) {
        document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
    }

    function loadData() {
        const grade = document.getElementById('grade').value;
        const data = platformData[grade] || platformData["5"];

        // 1. ØªØªØ¨Ø¹ Ø§Ù„ØªÙ„Ø§ÙˆØ©
        document.getElementById('sura-title').innerText = data.sura;
        const qText = document.getElementById('quran-text');
        qText.innerHTML = data.words.map((w, i) => `<span class="q-word" id="w-${i}">${w}</span>`).join('');
        
        const player = document.getElementById('audio-player');
        player.src = data.audio;
        
        // Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ Ù„Ù„ØªØªØ¨Ø¹
        player.ontimeupdate = () => {
            const current = player.currentTime;
            data.times.forEach((t, i) => {
                if(current >= t) {
                    document.querySelectorAll('.q-word').forEach(span => span.classList.remove('active'));
                    document.getElementById(`w-${i}`).classList.add('active');
                }
            });
        };

        // 2. Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª (4 ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª)
        const vGrid = document.getElementById('video-grid');
        vGrid.innerHTML = data.vids.map(id => `
            <div class="video-card">
                <iframe src="https://www.youtube.com/embed/${id}" allowfullscreen></iframe>
            </div>
        `).join('');
    }

    // Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨
    let qIdx = 0;
    function playGame() {
        document.getElementById('game-list').style.display = 'none';
        document.getElementById('game-play').style.display = 'block';
        qIdx = 0;
        showQ();
    }

    function showQ() {
        const grade = document.getElementById('grade').value;
        const data = (platformData[grade] || platformData["5"]).quiz[qIdx];
        document.getElementById('question').innerText = data.q;
        const opts = document.getElementById('options');
        opts.innerHTML = data.o.map((opt, i) => `<button class="btn-action" style="display:block; width:100%; margin:5px 0;" onclick="check(${i})">${opt}</button>`).join('');
    }

    function check(i) {
        const grade = document.getElementById('grade').value;
        const data = (platformData[grade] || platformData["5"]).quiz[qIdx];
        if(i === data.c) {
            alert("âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!");
            document.getElementById('score').innerText = parseInt(document.getElementById('score').innerText) + 20;
        } else {
            alert("âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©!");
        }
        qIdx++;
        if(qIdx < 5) showQ();
        else exitGame();
    }

    function exitGame() {
        document.getElementById('game-list').style.display = 'block';
        document.getElementById('game-play').style.display = 'none';
    }

    window.onload = loadData;
</script>

</body>
</html>
